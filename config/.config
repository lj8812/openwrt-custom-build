# ======================
# 目标架构配置
# ======================
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_EXT4FS=n

# ======================
# 镜像生成配置
# ======================
CONFIG_TARGET_IMAGES_GZIP=y
CONFIG_TARGET_IMAGES_COMBINED=y
CONFIG_TARGET_IMAGES_COMBINED_EFI=y
CONFIG_TARGET_IMAGES_COMBINED_LEGACY=y

# ======================
# 核心软件包
# ======================
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_openssh-sftp-server=y

# ======================
# 网络过滤模块
# ======================
CONFIG_PACKAGE_kmod-nft-core=y
CONFIG_PACKAGE_kmod-nft-filter=y
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-nft-queue=y

# ======================
# LuCI 依赖
# ======================
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lua-runtime=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

# ======================
# 内核配置 (5.15 LTS)
# ======================
CONFIG_LINUX_5_15=y
CONFIG_LINUX_5_15_137=y
CONFIG_LINUX_KERNEL_HASH=9d1c2a7e4d3c1f8e5a6b7c8d9e0f1a2b

# ======================
# 系统工具
# ======================
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_tcpdump=y
CONFIG_PACKAGE_iperf3=y
CONFIG_PACKAGE_vim-full=y

# ======================
# 本地化配置
# ======================
CONFIG_DEFAULT_LANGUAGE="zh_cn"
CONFIG_DEFAULT_LOCALE="zh_CN.UTF-8"
CONFIG_PACKAGE_zoneinfo-asia=y

# ======================
# 网络服务
# ======================
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y
CONFIG_PACKAGE_iptables-mod-extra=y

# ======================
# MAC 过滤插件核心依赖
# ======================
CONFIG_PACKAGE_iptables=y
CONFIG_PACKAGE_iptables-mod-filter=y
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_kmod-ipt-ipset=y

# ======================
# 安全配置
# ======================
CONFIG_PACKAGE_ca-certificates=y
CONFIG_PACKAGE_openssl-util=y
CONFIG_PACKAGE_firewall4=y

# ======================
# 文件系统支持
# ======================
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-usb-storage=y

# ======================
# 编译优化
# ======================
CONFIG_CCACHE=y
CONFIG_BUILD_LOG=y
CONFIG_SRC_TREE_OVERRIDE=y
